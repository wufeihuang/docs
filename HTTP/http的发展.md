# HTTP 的发展

> [HTTP的发展 \- HTTP \| MDN](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Basics_of_HTTP/Evolution_of_HTTP)

## 万维网的发明

1989年，Tim Berners-Lee 博士写了一份关于建立一个通过网络传输超文本系统的报告，这个系统起初被命名为 Mesh，之后 1990 年项目实施并更名为万维网（World Wide Web）。

它在现有的 TCP 和 IP 协议基础之上建立，由四个部分组成：

- 一个用来表示超文本文档的文本格式，超文本标记语言（HTML）。
- 一个用来交换超文本文档的简单协议，超文本传输协议（HTTP）。
- 一个显示（以及编辑）超文本文档的客户端，即网络浏览器。第一个网络浏览器被称为 WorldWideWeb。
- 一个用于提供可访问的文档的服务器，即 httpd 的前身。

这四个部分完成与 1990 年底。

1991年8月16日，Time Berners-Lee 在公开的超文本新闻组上发表的文章被视为是万维网公共项目的开始。

## HTTP/0.9 - 单行协议

最初没有版本号，后来定为 0.9 以区分后来的版本。

请求由单行指令构成，以唯一可用方法 GET 开头，气候跟目标资源的路径。 `GET /mypage.html`

响应也极简单：只包含响应文档本身。

此时只支持 html 文件。

## HTTP/1.0 - 构建可扩展性

- 在请求行追加了协议版本信息
- 响应过程中会发送状态码
- 引入了 HTTP 头
- 在 HTTP 头的帮助下，具备了传输除纯文本 HTML 文件以外其他类型文档的能力。（Content-Type）

1991-1995 年，这些新扩展没有被标准化，而只是尝试。

## HTTP/1.1 - 标准化的协议

1995 年开始进行标准化，1997年初 HTTP 1.1 标准发布。这个版本消除了大量歧义内容并引入了改进：

- 连接可以复用，节省多次打开 TCP 连接的时间。
- 增加管线化技术，允许在第一个应答被完全发送之前就发送第二个请求，以降低通信延迟。
- 支持响应分块。
- 引入额外的缓存控制机制。
- 引入内容协商机制，包括语言、编码、类型等，宁允许客户端和服务端之间约定以最合适的内容进行交换。
- 增加 Host 头，能够使不同域名配置在同一个 IP 地址的服务器上。

## HTTP 用于安全传输

1994年底，网景公司（Netscape）在 TCP/IP 的基础上创建了一个额外的加密传输层 SSL，通过加密来保证服务器和客户端之间交换性信息的真实性。

SSL 1.0 未公开发布，此后经历了 SSL 2.0、SSL 3.0和 SSL 3.1，在标准化道路上最终成为 TLS，并又经历了 TLS 1.0/1.1/1.2，到1.3。

## HTTP 用于复杂应用

2000年，一种新的使用 HTTP 的模式被设计出来：representational state transfer（REST）。

由 API 发起的操作不再通过新的 HTTP 方法传达，而只能通过基本的 HTTP/1.1 方法访问特定的 URI。这允许任何 Web 应用程序通过提供 API 以允许查看和修改其数据，而无需更新浏览器或服务器。

## 宽松的 Web 安全模型

HTTP 和 Web 安全模型（同源策略）是互不相关的。

Cross-Origin Resource Sharing（CORS）、Content Security Policy（CSP）等。

## HTTP/2 - 为了更优异的表现

随着网页越来越复杂，HTTP/1.1 不太能满足需要。

2010年到2015年，谷歌实践了一个实验性的 SPDY 协议。SPDY 明确了响应数量的增加和解决复杂的数据传输，成为了 HTTP/2 协议的基础。

HTTP/2 与 HTTP/1.1 的区别：

- HTTP/2 是二进制协议而不是文本协议。不再可读，也不可无障碍的手动创建。
- 是一个复用协议。并行的请求能在同一个连接找那个处理，移除了 HTTP/1.x 中顺序和阻塞的约束。
- 压缩了 headers。因为 headers 在一系列请求中常是相似的，其移除了重复和传输重复数据的成本。
- 允许服务器在客户端缓存中填充数据，通过一个叫服务器推送的机制来提前请求。

在 2015 年5月正式标准化后，HTTP/2 取得了极大的成功。

HTTP/2 不需要站点和应用做出改变：使用 HTTP/1.1 和 HTTP/2 对站点来说是透明的。只需要拥有一个最新的服务器和新点的浏览器进行交互就够了。


HTTP 还在继续进化。


